{
  "name": "Togglz Spring MVC Integration",
  "tagline": "Spring MVC Togglz Installation Guide",
  "body": "# ## ### ### Togglz and Spring MVC\r\nA more in depth tutorial for how to integrate Togglz into simple Spring MVC web projects. \r\n\r\n### Dependencies in pom.xml file\r\n\r\n                <!-- Togglz core module (mandatory) -->\r\n\t\t<dependency>\r\n\t\t\t<groupId>org.togglz</groupId>\r\n\t\t\t<artifactId>togglz-core</artifactId>\r\n\t\t\t<version>2.3.0.RC1</version>\r\n\t\t</dependency>\r\n\r\n\t\t<!-- Togglz for Servlet environments (mandatory for webapps) -->\r\n\t\t<dependency>\r\n\t\t\t<groupId>org.togglz</groupId>\r\n\t\t\t<artifactId>togglz-servlet</artifactId>\r\n\t\t\t<version>2.3.0.RC1</version>\r\n\t\t</dependency>\r\n\r\n\t\t<!-- Spring integration (optional) -->\r\n\t\t<dependency>\r\n\t\t\t<groupId>org.togglz</groupId>\r\n\t\t\t<artifactId>togglz-spring-web</artifactId>\r\n\t\t\t<version>2.3.0.RC1</version>\r\n\t\t</dependency>\r\n\t\t<!-- Togglz Admin Console -->\r\n\t\t<dependency>\r\n\t\t\t<groupId>org.togglz</groupId>\r\n\t\t\t<artifactId>togglz-console</artifactId>\r\n\t\t\t<version>2.3.0.RC1</version>\r\n\t\t</dependency>\r\n\r\n### MyFeatures Enum\r\n\r\nimport org.togglz.core.Feature;\r\nimport org.togglz.core.annotation.EnabledByDefault;\r\nimport org.togglz.core.annotation.Label;\r\nimport org.togglz.core.context.FeatureContext;\r\n\r\npublic enum MyFeatures implements Feature {\r\n\r\n\t @EnabledByDefault\r\n\t    @Label(\"First Feature\")\r\n\t    FEATURE_ONE,\r\n\r\n\t    @Label(\"Second Feature\")\r\n\t    FEATURE_TWO;\r\n\r\n\t    public boolean isActive() {\r\n\t        return FeatureContext.getFeatureManager().isActive(this);\r\n\t    }\r\n\t\r\n}\r\n\r\n### Togglz Configuration Class\r\nimport java.io.File;\r\n\r\nimport org.springframework.stereotype.Component;\r\nimport org.togglz.core.Feature;\r\nimport org.togglz.core.manager.TogglzConfig;\r\nimport org.togglz.core.repository.StateRepository;\r\nimport org.togglz.core.repository.file.FileBasedStateRepository;\r\nimport org.togglz.core.user.FeatureUser;\r\nimport org.togglz.core.user.SimpleFeatureUser;\r\nimport org.togglz.core.user.UserProvider;\r\n\r\n@Component\r\npublic class MyTogglzConfiguration implements TogglzConfig {\r\n\tpublic Class<? extends Feature> getFeatureClass() {\r\n        return MyFeatures.class;\r\n    }\r\n\r\n    public StateRepository getStateRepository() {\r\n        return new FileBasedStateRepository(new File(\"/tmp/features.properties\"));\r\n    }\r\n\r\n    public UserProvider getUserProvider() {\r\n    \t return new UserProvider() {\r\n             @Override\r\n             public FeatureUser getCurrentUser() {\r\n                 return new SimpleFeatureUser(\"admin\", true);\r\n             }\r\n         };\r\n    \t//String user = HttpServletRequest.getUserPrincipal().getName();\r\n        //return new ServletUserProvider(\"admin\");\r\n    }\r\n}\r\n\r\n### Web.xml\r\n\r\n       <context-param>\r\n\t\t<param-name>org.togglz.core.manager.TogglzConfig</param-name>\r\n\t\t<param-value>com.my.app.MyTogglzConfiguration</param-value>\r\n\t</context-param>\r\n\r\n\t<context-param>\r\n\t\t<param-name>org.togglz.FEATURE_MANAGER_PROVIDED</param-name>\r\n\t\t<param-value>false</param-value>\r\n\t</context-param>\r\n\r\n        <!-- Togglz configuration for Servlet 2.5 and earlier -->\r\n\t<filter>\r\n\t\t<filter-name>TogglzFilter</filter-name>\r\n\t\t<filter-class>org.togglz.servlet.TogglzFilter</filter-class>\r\n\t</filter>\r\n\t<filter-mapping>\r\n\t\t<filter-name>TogglzFilter</filter-name>\r\n\t\t<url-pattern>/*</url-pattern>\r\n\t</filter-mapping>\r\n\r\n        <servlet>\r\n\t\t<servlet-name>TogglzConsoleServlet</servlet-name>\r\n\t\t<servlet-class>org.togglz.console.TogglzConsoleServlet</servlet-class>\r\n\t</servlet>\r\n\t<servlet-mapping>\r\n\t\t<servlet-name>TogglzConsoleServlet</servlet-name>\r\n\t\t<url-pattern>/togglz/*</url-pattern>\r\n\t</servlet-mapping>\r\n\r\n### How does Togglz work?\r\nTBD\r\n\r\n### Installing Dependencies\r\nTBD\r\n### Configuring Togglz in Spring MVC\r\nTBD\r\n\r\n### Support or Contact\r\nTBD\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}